# توحيد النظام — النظام المعتمد ونسخة v3

---

## القرار الحالي (حسب طلب المدير)

- **النظام المعتمد للتشغيل والإنتاج:** هو **النظام الحالي** الموجود في مجلدات المشروع الرئيسية:
  - **Backend:** `backend/` — Node.js + Express، API 160+ مسار، قاعدة SQLite (sql.js).
  - **Frontend:** `frontend/` — React + Vite، 17+ صفحة.
  - **قاعدة البيانات:** SQLite، ملف واحد (مثلاً `data/bi_management.db`).

- **نسخة v3** (`bi-management-v3/`): مشروع Monorepo (Hono، React، PostgreSQL، Drizzle) — **جزء من الميزات منقول فقط**. لا تُعتبر مصدر الحقيقة حتى إكمال النقل واتخاذ قرار رسمي بالاعتماد عليها.

---

## متى نستخدم ماذا

| السيناريو | النظام المستخدم |
|-----------|------------------|
| التشغيل اليومي، الإنتاج، التقارير، لوحة المدير، الموبايل الحالي | النظام الحالي (Backend + Frontend أعلاه) |
| تطوير أو اختبار ميزات جديدة على بنية v3 | bi-management-v3 (مع العلم أنها غير مكتملة) |

---

## خطة زمنية مقترحة (للمراجعة)

1. **الآن حتى إكمال النقل:** الاعتماد الرسمي على النظام الحالي؛ كل التوثيق ودليل التشغيل وقائمة النشر تعكس ذلك.
2. **عند إكمال نقل الميزات إلى v3:** تحديث هذا الملف و `docs/OPERATIONS-GUIDE.md` ليعكسا أن v3 أصبحت النظام المعتمد، مع فترة انتقالية إن لزم.
3. **الموبايل:** يبقى مرتبطاً بـ API النظام المعتمد (حالياً Backend الحالي). انظر `docs/MOBILE-STATUS.md`.

---

## مراجع

- دليل التشغيل: `docs/OPERATIONS-GUIDE.md`
- قائمة تحقق التدقيق عند النقل لـ v3: `PROGRESS/AUDIT-V3-CHECKLIST.md`
- حالة الميزات والنقل: `PROGRESS/FEATURES-STATUS.md`
